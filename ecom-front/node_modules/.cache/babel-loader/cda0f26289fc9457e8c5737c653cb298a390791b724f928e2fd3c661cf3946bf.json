{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anfam\\\\OneDrive - Institute of Business Administration\\\\IBA 5th Semester\\\\DB\\\\PROJECT\\\\new frontend\\\\ecom-front\\\\src\\\\components\\\\Products.jsx\",\n  _s = $RefreshSig$();\nimport styled from \"styled-components\";\nimport { useSelector } from \"react-redux\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Product from \"./Product\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  padding: 20px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n`;\n_c = Container;\nconst Products = ({\n  colorFilter,\n  sizeFilter,\n  sortFilter\n}) => {\n  _s();\n  const {\n    categoryInfo\n  } = useSelector(state => state.category);\n  const {\n    id\n  } = categoryInfo;\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5001/api/product/category/${id}`);\n        setProducts(response.data);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    };\n    fetchData(); // Call the async function\n  }, [id]);\n\n  // Filtering logic based on color and size\n  const filteredProducts = products.filter(product => {\n    if (colorFilter !== \"All\" && !product.color.includes(colorFilter)) {\n      return false;\n    }\n    if (sizeFilter !== \"All\" && !product.size.includes(sizeFilter)) {\n      return false;\n    }\n    return true;\n  });\n\n  // Sorting logic based on sortFilter\n  const sortedProducts = [...filteredProducts].sort((a, b) => {\n    if (sortFilter === \"Newest\") {\n      return b.id - a.id; // Sorting by id (assumes higher id means newer)\n    } else if (sortFilter === \"PriceAsc\") {\n      return a.price - b.price;\n    } else if (sortFilter === \"PriceDesc\") {\n      return b.price - a.price;\n    }\n    return 0;\n  });\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: sortedProducts.map(item => /*#__PURE__*/_jsxDEV(Product, {\n      item: item,\n      colorFilter: colorFilter,\n      sizeFilter: sizeFilter\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(Products, \"Oxe65GlC0/QaDrqIYshJqorJpMk=\", false, function () {\n  return [useSelector];\n});\n_c2 = Products;\nexport default Products;\nvar _c, _c2;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Products\");","map":{"version":3,"names":["styled","useSelector","useState","useEffect","axios","Product","jsxDEV","_jsxDEV","Container","div","_c","Products","colorFilter","sizeFilter","sortFilter","_s","categoryInfo","state","category","id","products","setProducts","fetchData","response","get","data","error","console","filteredProducts","filter","product","color","includes","size","sortedProducts","sort","a","b","price","children","map","item","fileName","_jsxFileName","lineNumber","columnNumber","_c2","$RefreshReg$"],"sources":["C:/Users/anfam/OneDrive - Institute of Business Administration/IBA 5th Semester/DB/PROJECT/new frontend/ecom-front/src/components/Products.jsx"],"sourcesContent":["import styled from \"styled-components\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Product from \"./Product\";\r\n\r\nconst Container = styled.div`\r\n  padding: 20px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst Products = ({ colorFilter, sizeFilter, sortFilter }) => {\r\n  const { categoryInfo } = useSelector((state) => state.category);\r\n  const { id } = categoryInfo;\r\n  const [products, setProducts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await axios.get(`http://localhost:5001/api/product/category/${id}`);\r\n        setProducts(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching data:', error);\r\n      }\r\n    };\r\n\r\n    fetchData(); // Call the async function\r\n  }, [id]);\r\n\r\n  // Filtering logic based on color and size\r\n  const filteredProducts = products.filter((product) => {\r\n    if (colorFilter !== \"All\" && !product.color.includes(colorFilter)) {\r\n      return false;\r\n    }\r\n  \r\n    if (sizeFilter !== \"All\" && !product.size.includes(sizeFilter)) {\r\n      return false;\r\n    }\r\n  \r\n    return true;\r\n  });\r\n\r\n  // Sorting logic based on sortFilter\r\n  const sortedProducts = [...filteredProducts].sort((a, b) => {\r\n    if (sortFilter === \"Newest\") {\r\n      return b.id - a.id; // Sorting by id (assumes higher id means newer)\r\n    } else if (sortFilter === \"PriceAsc\") {\r\n      return a.price - b.price;\r\n    } else if (sortFilter === \"PriceDesc\") {\r\n      return b.price - a.price;\r\n    }\r\n    return 0;\r\n  });\r\n\r\n  return (\r\n    <Container>\r\n      {sortedProducts.map((item) => (\r\n        <Product item={item} key={item.id} colorFilter={colorFilter} sizeFilter={sizeFilter} />\r\n      ))}\r\n    </Container>\r\n  );\r\n};\r\n\r\n\r\nexport default Products;\r\n"],"mappings":";;AAAA,OAAOA,MAAM,MAAM,mBAAmB;AACtC,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhC,MAAMC,SAAS,GAAGR,MAAM,CAACS,GAAI;AAC7B;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GALIF,SAAS;AAOf,MAAMG,QAAQ,GAAGA,CAAC;EAAEC,WAAW;EAAEC,UAAU;EAAEC;AAAW,CAAC,KAAK;EAAAC,EAAA;EAC5D,MAAM;IAAEC;EAAa,CAAC,GAAGf,WAAW,CAAEgB,KAAK,IAAKA,KAAK,CAACC,QAAQ,CAAC;EAC/D,MAAM;IAAEC;EAAG,CAAC,GAAGH,YAAY;EAC3B,MAAM,CAACI,QAAQ,EAAEC,WAAW,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd,MAAMmB,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMnB,KAAK,CAACoB,GAAG,CAAE,8CAA6CL,EAAG,EAAC,CAAC;QACpFE,WAAW,CAACE,QAAQ,CAACE,IAAI,CAAC;MAC5B,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC9C;IACF,CAAC;IAEDJ,SAAS,CAAC,CAAC,CAAC,CAAC;EACf,CAAC,EAAE,CAACH,EAAE,CAAC,CAAC;;EAER;EACA,MAAMS,gBAAgB,GAAGR,QAAQ,CAACS,MAAM,CAAEC,OAAO,IAAK;IACpD,IAAIlB,WAAW,KAAK,KAAK,IAAI,CAACkB,OAAO,CAACC,KAAK,CAACC,QAAQ,CAACpB,WAAW,CAAC,EAAE;MACjE,OAAO,KAAK;IACd;IAEA,IAAIC,UAAU,KAAK,KAAK,IAAI,CAACiB,OAAO,CAACG,IAAI,CAACD,QAAQ,CAACnB,UAAU,CAAC,EAAE;MAC9D,OAAO,KAAK;IACd;IAEA,OAAO,IAAI;EACb,CAAC,CAAC;;EAEF;EACA,MAAMqB,cAAc,GAAG,CAAC,GAAGN,gBAAgB,CAAC,CAACO,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;IAC1D,IAAIvB,UAAU,KAAK,QAAQ,EAAE;MAC3B,OAAOuB,CAAC,CAAClB,EAAE,GAAGiB,CAAC,CAACjB,EAAE,CAAC,CAAC;IACtB,CAAC,MAAM,IAAIL,UAAU,KAAK,UAAU,EAAE;MACpC,OAAOsB,CAAC,CAACE,KAAK,GAAGD,CAAC,CAACC,KAAK;IAC1B,CAAC,MAAM,IAAIxB,UAAU,KAAK,WAAW,EAAE;MACrC,OAAOuB,CAAC,CAACC,KAAK,GAAGF,CAAC,CAACE,KAAK;IAC1B;IACA,OAAO,CAAC;EACV,CAAC,CAAC;EAEF,oBACE/B,OAAA,CAACC,SAAS;IAAA+B,QAAA,EACPL,cAAc,CAACM,GAAG,CAAEC,IAAI,iBACvBlC,OAAA,CAACF,OAAO;MAACoC,IAAI,EAAEA,IAAK;MAAe7B,WAAW,EAAEA,WAAY;MAACC,UAAU,EAAEA;IAAW,GAA1D4B,IAAI,CAACtB,EAAE;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAqD,CACvF;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACO,CAAC;AAEhB,CAAC;AAAC9B,EAAA,CAlDIJ,QAAQ;EAAA,QACaV,WAAW;AAAA;AAAA6C,GAAA,GADhCnC,QAAQ;AAqDd,eAAeA,QAAQ;AAAC,IAAAD,EAAA,EAAAoC,GAAA;AAAAC,YAAA,CAAArC,EAAA;AAAAqC,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}